<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Fud Take Away</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" />
    <link href="https://fonts.googleapis.com/css?family=B612" rel="stylesheet">
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    @Styles.Render("~/Content/themes/base/css")

    <style>
        * {
            font-family: 'B612', sans-serif;
        }

        /*-- Cursor de corte de manga de https://seomofo.com/middle-finger-cursors/ --*/
        /*a:hover { cursor:url('https://seomofo.com/cursors/aero-middle-finger-2.cur'), pointer; }*/

        /*-- Selección de color --*/
        ::selection {
            background: #ffc107;
        }
        ::-moz-selection {
            background: #ffc107;
        }

        .progress {
            position: fixed !important;
            width: 100%;
            height: 5px;
            border-radius: 0;
            z-index: 500;
        }

        .botonCarrito {
            position: fixed !important;
            border-radius: 50%;
            padding: 15px;
            text-decoration: none;
            box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.5);
            bottom: 25px;
            right: 30px;
            transition: all .2s ease-in-out;
        }

        .botonCarrito span {
            position: absolute !important;
            padding: 6px 10px;
            /*background-color: #f0ad4e;*/
            background-color: #c9302c;
            color: white;
            border-radius: 50%;
            top: -5px;
            right: -10px;
            border: 1px solid #fff;
        }

        .css-scrollbar::-webkit-scrollbar-track {
            background-color: #e7e7e7;
        }

        .css-scrollbar::-webkit-scrollbar {
            width: 10px;
            background-color: #e7e7e7;
        }

        .css-scrollbar::-webkit-scrollbar-thumb {
            /*border-radius: 20px;*/
            background-color: #337ab7;
        }
        /*---LOADER---*/
        .loader {
            display: block;
            background-color: /*#e1e1e1*/ rgba(225, 225, 225, 0.8);
            color: black;
            top: 0;
            left: 0;
            position: fixed;
            z-index: 9999;
            width: 100%;
            height: 100%;
            text-align: center;
            -webkit-transition: opacity 0.2s ease;
            -moz-transition: opacity 0.2s ease;
            -o-transition: opacity 0.2s ease;
            transition: opacity 0.2s ease;
        }

        .loader-content {
            display: block;
            width: 100px;
            height: 30px;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            margin: auto;
        }
        /*---loader bar---*/
        .bar {
            float: left;
            width: 25px;
            height: 6px;
            border-radius: 50px;
            background-color: #4b9cdb;
            margin-bottom: 10px;
        }

        .l-10 {
            animation-delay: 1.56s;
        }

        .loadBar .bar {
            animation: loadingKeyFrame 2s cubic-bezier(.17,.37,.43,.67) infinite;
        }

        .navbar-nav li:hover {
            background-color: #286090;
            border-radius: 0 0px 10px 10px;
        }
        .navbar-nav li a:hover {
            color: white !important;
        }
        .navbar-header a:hover {
            background-color: #286090 !important;
            border-radius: 0 0px 10px 10px;
            color: white !important;
        }
        .maps{
            width: 100%;
            height: 25vh;
        }

        @@keyframes loadingKeyFrame {
            0%, 100% {
                transform: translate(0,0);
            }

            50% {
                transform: translate(100px,0);
                background-color: #f5634a;
                width: 25px;
            }
        }
    </style>
    <script type="text/javascript">
        window.onscroll = function () { myFunction() };

        function myFunction() {
            var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            var scrolled = (winScroll / height) * 100;
            document.getElementById("bar").style.width = scrolled + "%";
        }

        /*---LOADER---*/
        window.onload = function () {
            let contenedor = document.getElementById('content');
            contenedor.style.visibility = 'hidden';
            contenedor.style.transition = "all 0.2s";
            contenedor.style.opacity = '0';
        }
    </script>

</head>
<body class="css-scrollbar">

    @*Loader*@
    <div id="content" class="loader">
        <div class="loader-content">
            <div class="loadBar">
                <div class="bar"></div>
                <h3>Cargando...</h3>
            </div>
        </div>
    </div>

    @*Progress bar*@
    <div class="progress">
        <div class="progress-bar bg-info" id="bar"></div>
    </div>

    <div class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                @*@Html.ActionLink(" ", "Index", "Escaparate", new { area = "" }, new { @class = "fas fa-utensils navbar-brand" })
                    @Html.ActionLink("Gestión Comida", "Index", "Escaparate", new { area = "" }, new { @class = "navbar-brand" })*@
                @if (Request.IsAuthenticated)
                {
                    if (User.IsInRole("Administrador"))
                    {
                        <a href="@Url.Action("BienvenidoAdmin", "Escaparate")" class="navbar-brand"><i class="fas fa-utensils"></i> Fud Take Away</a>
                    }
                    if (User.IsInRole("Usuario"))
                    {
                        <a href="@Url.Action("Index", "Escaparate")" class="navbar-brand"><i class="fas fa-utensils"></i> Fud Take Away</a>
                    }
                }
                else
                {
                        <a href="@Url.Action("Index", "Escaparate")" class="navbar-brand"><i class="fas fa-utensils"></i> Fud Take Away</a>
                }

            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    @if (Request.IsAuthenticated)
                    {
                        if (User.IsInRole("Administrador"))
                        {
                            <li>@Html.ActionLink("Clientes", "Index", "Clientes")</li>
                            <li>@Html.ActionLink("Pedidos", "Index", "Pedidos")</li>
                            <li>@Html.ActionLink("Productos", "Index", "Productos")</li>
                            <li>@Html.ActionLink("Categorias", "Index", "Categorias")</li>
                        }
                        if (User.IsInRole("Usuario"))
                        {
                            @*<li>@Html.ActionLink("Mis datos", "Edit", "Datos")</li>*@
                            <li><a href="@Url.Action("Edit", "Datos")"><i class="fas fa-user"></i> Mis datos</a></li>

                            @*<li>@Html.ActionLink("Mis pedidos", "Index", "Pedidos")</li>*@
                            <li><a href="@Url.Action("Index", "Pedidos")"><i class="fas fa-list-ul"></i> Mis pedidos</a></li>

                            @*if (System.Web.HttpContext.Current.Session["pedido"] != null)
                            {
                                <li>@Html.ActionLink("Mi carrito", "Details/" + System.Web.HttpContext.Current.Session["pedido"], "Carrito")</li>
                            }
                            else
                            {
                                <li>@Html.ActionLink("Mi carrito", "CarritoVacio", "Carrito")</li>
                            }*@

                            <li><a href="@Url.Action("Contact", "Home")"><i class="fas fa-map-marked-alt"></i> Contacto</a></li>
                        }
                    }
                    else
                    {
                        @*<li>@Html.ActionLink("Acerca de", "About", "Home")</li>*@
                        <li><a href="@Url.Action("About", "Home")"><i class="fas fa-users"></i> Nosotros</a></li>
                        @*<li>@Html.ActionLink("Contacto", "Contact", "Home")</li>*@
                        <li><a href="@Url.Action("Contact", "Home")"><i class="fas fa-map-marked-alt"></i> Contacto</a></li>
                    }
                </ul>
                @Html.Partial("_LoginPartial")
            </div>
        </div>
        <div>
            @if (Request.IsAuthenticated)
            {
                if (User.IsInRole("Usuario"))
                {
                    if (System.Web.HttpContext.Current.Session["pedido"] != null)
                    {
                        <a class="botonCarrito btn btn-primary" href="@Url.Action("Details/" + System.Web.HttpContext.Current.Session["pedido"], "Carrito")"><i class="fa fa-shopping-cart fa-2x"></i><span><i class="fas fa-bell"></i></span></a>
                    }
                    else
                    {
                        <a class="botonCarrito btn btn-primary" href="@Url.Action("CarritoVacio", "Carrito")"><i class="fa fa-shopping-cart fa-2x"></i></a>
                    }
                }
            }
        </div>
    </div>
    <div class="container body-content">
        @RenderBody()
        <hr />
        <footer>
            <p><i class="far fa-copyright"></i> @DateTime.Now.Year - Fud Take Away<small class="text-muted"> by Carlos Alvarez L.</small></p>
        </footer>
    </div>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/jqueryui")
</body>
</html>
