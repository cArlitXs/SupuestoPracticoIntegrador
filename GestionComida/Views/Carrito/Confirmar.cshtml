@model GestionComida.Models.Pedido
@using GestionComida.Models;

@{
    ViewBag.Title = "Confirmar";
}
<style>
    .botonCarrito {
        visibility: hidden;
        display: none;
    }
</style>

<h2>Confirmar</h2>

<div>
    <h4>Detalles</h4>
    <hr />
    <dl class="dl-horizontal">
        @*<dt>
            @Html.DisplayNameFor(model => model.IdUsuario)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.IdUsuario)
        </dd>*@

        <dt>
            @Html.DisplayNameFor(model => model.FechaCompra)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.FechaCompra)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.FechaPago)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.FechaPago)
        </dd>

        @*<dt>
            @Html.DisplayNameFor(model => model.FechaEnvio)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.FechaEnvio)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.FechaEntrega)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.FechaEntrega)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.FechaDevolucion)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.FechaDevolucion)
        </dd>*@

    </dl>
</div>
<div>
    <table class="table">
        <tr>
            <th>Producto</th>
            <th>Precio</th>
            <th>Descripcion</th>
            <th>Cantidad</th>
            <th>Total</th>
            <th></th>
        </tr>
        @foreach (LineaPedidoProducto item in Model.LineaPedidoProducto)
        {
            if (item.Producto.Escaparate == true)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Producto.Nombre)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Producto.Precio)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Producto.Categoria.Descripcion)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Cantidad)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PVP)
                    </td>
                    <td></td>
                </tr>
            }
        }
        <tr>
            <th></th>
            <th></th>
            <th></th>
            <th><h3>Total:</h3></th>
            <th>
                <h3>
                    <i>
                        <b>
                            @Model.LineaPedidoProducto.Sum(c => c.PVP).ToString("0.00")
                        </b>
                    </i>
                </h3>
            </th>
            <th>
                <h3>
                    @*@Html.ActionLink("Confirmar pedido", "ConfirmarPedido", "Carrito", new { IdPed = Model.Id }, new { @class = "btn btn-success" })*@
                    <a href="@Url.Action("ConfirmarPedido", "Carrito", new { IdPed = Model.Id })" class="btn btn-success"><i class="fas fa-thumbs-up"></i> Confirmar pedido</a>
                </h3>
            </th>
        </tr>
    </table>

</div>
<p>
    @*@Html.ActionLink("Volver a carrito", "Details/" + Model.Id, "Carrito", new { area = "" }, new { @class = "btn btn-primary" })*@
    <a href="@Url.Action("Details/" + Model.Id, "Carrito")" class="btn btn-primary"><i class="fas fa-undo"></i> Volver al carrito</a>
</p>

